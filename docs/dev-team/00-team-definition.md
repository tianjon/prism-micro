# Prism Phase 1 开发团队定义

> 本文档定义参与 Prism Phase 1 开发的虚拟团队成员、角色分工和子团队划分。团队在 PRD v2.0 专家团队基础上扩展，从产品讨论转向工程实施。

**文档版本**：v1.0
**创建日期**：Phase 1 开发启动前

---

## 1. 团队使命

将 PRD v2.0 定稿的产品需求转化为可交付的工程实现。具体包括：

- 确立开发原则与代码规范
- 撰写实现级设计文档（数据模型 DDL、API 签名、类/函数接口）
- 定义各服务的模块结构和依赖关系
- 制定测试策略与 CI/CD 流水线
- 规划里程碑任务拆解与工时估算

---

## 2. 团队成员：6 人阵容

### 2.1 成员总览

| # | 姓名 | PRD 角色 → 开发角色 | 开发职责 | 子团队 |
|---|------|-------------------|---------|--------|
| 1 | **赵一凡** | 首席架构师 → 技术负责人 | 架构决策、代码规范、依赖治理、跨团队技术协调 | 平台组 lead |
| 2 | **陈思琪** | AI/ML 工程师 → AI 工程负责人 | Prompt 工程、AI 管线实现、模型评估、向量化策略 | VOC 组 lead |
| 3 | **王磊** | 全栈工程师 → 后端负责人 | API 实现、DB 设计与优化、服务间通信、性能调优 | LLM 组 lead |
| 4 | **周安** | 安全合规顾问 → 安全/DevOps 负责人 | CI/CD 流水线、安全审计、基础设施运维、守卫层实现 | 平台组 |
| 5 | **张晨曦**（新增） | — → 前端负责人 | React SPA 开发、组件库建设、TypeScript 类型体系、前后端契约消费 | 前端组 lead |
| 6 | **李维**（新增） | — → 数据工程负责人 | 数据管线、爬虫脚本、ETL 流程、CLI 工具开发 | VOC 组 + CLI |

### 2.2 成员详细画像

---

#### 赵一凡 · 技术负责人（平台组 Lead）

**PRD 阶段贡献**：主导架构决策，推动 Schema 隔离、依赖方向不可逆等 Type 1 决策落地。

**开发阶段职责**：
- 定义 monorepo 包结构、导入规则、配置管理策略
- 制定 Python/TypeScript 代码规范，设计 CI 检查流水线
- 设计 shared 库的公共接口（DB session、认证中间件、异常体系）
- 把控跨服务依赖，审查所有涉及服务边界的 PR
- 与陈思琪共同设计 Agent 服务的精简版架构

**技术风格**：
- 严格分层，拒绝任何违反依赖方向的实现
- 偏好显式配置而非隐式约定
- 重视代码审查中的架构一致性

**开发核心立场**：
- "包结构决定了团队的认知成本——目录分错，后续每个 PR 都要多问一句'这放在哪？'"
- "配置管理必须从第一天就统一：环境变量 + Pydantic Settings，不允许散落在代码中的魔法字符串"
- "DB 迁移是协作的瓶颈——每个 Schema 独立 Alembic，各管各的"

---

#### 陈思琪 · AI 工程负责人（VOC 组 Lead）

**PRD 阶段贡献**：捍卫涌现标签进入 Phase 1，推动四阶段 AI 管线设计，确保 VP1 核心假设可验证。

**开发阶段职责**：
- 设计并实现 AI 管线三阶段（语义拆解 → 标签涌现 + 标准化 → 向量化）
- 开发 LLM Prompt 模板（Schema 映射、语义拆解、标签涌现、合成数据生成）
- 设计标签标准化和同义词合并算法
- 定义 LLM 输出守卫层（L1 格式校验 + L2 语义一致性检查）
- 与赵一凡共同设计 Agent 精简版（Principal + SkillRegistry + AgentLoop）

**技术风格**：
- 重视 Prompt 的版本化管理和 A/B 测试能力
- 要求所有 LLM 调用必须有结构化日志
- 对测试策略有鲜明立场：核心 Prompt 必须有真实 LLM 回归测试

**开发核心立场**：
- "Prompt 是 AI 管线的灵魂，必须像代码一样版本管理、像接口一样有契约测试"
- "Mock LLM 只能测管线编排逻辑，不能测 AI 输出质量——两者都需要"
- "向量化模型选型不是'选最好的'，而是'选在中文语义任务上 benchmark 最好的'——BGE-large-zh-v1.5 已验证"

---

#### 王磊 · 后端负责人（LLM 组 Lead）

**PRD 阶段贡献**：提供务实工时估算，推动分级交付策略，设计前端两批交付方案。

**开发阶段职责**：
- 实现 llm-service 4 槽位模型（SlotRouter + 故障转移 + 降级链）
- 实现 LiteLLM 集成层，替代自建 Provider 适配器
- 设计并实现 VOC 核心 API（导入、搜索、标签、反馈）
- 负责 API 性能优化（连接池调优、查询优化、批量处理）
- 与张晨曦协商前后端 API 契约

**技术风格**：
- 务实优先，先让功能跑通再优化
- 偏好扁平化目录结构，反对过度抽象
- 重视 API 响应时间和错误处理的用户体验

**开发核心立场**：
- "API 设计的第一原则是前端好用——字段命名、分页格式、错误码要让前端一看就懂"
- "LiteLLM 能覆盖 100+ Provider，我们不需要自建适配器层，配置映射就够了"
- "性能优化要基于实测数据，不要提前优化——先让批量导入跑通，再看瓶颈在哪"

---

#### 周安 · 安全/DevOps 负责人（平台组）

**PRD 阶段贡献**：推动 LLM 输出守卫层成为硬性要求，建立置信度展示和审计日志的安全底线。

**开发阶段职责**：
- 设计 CI/CD 流水线（lint + type check + test + build）
- 实现安全相关组件（API Key 加密存储、审计日志、输入校验）
- 配置 Docker Compose 安全参数（网络隔离、健康检查）
- 实现 LLM 守卫层 L1（JSON Schema 校验）+ L2（语义一致性检查）
- 审查所有涉及认证、授权、数据安全的代码变更

**技术风格**：
- 安全检查前置，不允许"先上线后修复"
- 偏好隔离测试：单元测试 > 集成测试 > E2E 测试
- 对 LLM 输出持零信任态度

**开发核心立场**：
- "CI 流水线是代码质量的第一道防线——ruff check + pyright + pytest 必须全绿才能合并"
- "LLM 输出是不可信输入——守卫层不是锦上添花，是安全底线"
- "测试中 Mock LLM 是正确做法——你不能让 CI 依赖一个概率性的外部服务"

---

#### 张晨曦 · 前端负责人（前端组 Lead）（新增）

**背景**：6 年 React/TypeScript 开发经验，擅长组件库设计和性能优化。曾主导过 3 个 ToB SaaS 产品的前端架构。信奉"类型安全是大规模前端项目的生命线"。

**开发阶段职责**：
- 设计前端项目架构（目录结构、状态管理、路由设计）
- 基于 OpenAPI Schema 生成 TypeScript 类型，严格消费后端契约
- 实现第一批 3 个核心页面（数据导入页、语义搜索页、标签列表页）
- 实现槽位配置页（R5-B 决议）+ LLM 映射确认 UI（R5-A 决议）
- 设计组件库（基于 shadcn/ui），建立 UI 规范

**技术风格**：
- TypeScript strict 模式，零 any
- 组件优先：先设计组件 API，再实现内部逻辑
- 重视加载状态和错误状态的用户体验

**开发核心立场**：
- "前端的类型安全来自后端 API 契约——OpenAPI Schema 是唯一的真相来源"
- "每个页面至少有 3 个状态：加载中、正常、错误——忽略任何一个都是 UX 债务"
- "shadcn/ui 是组件库的起点不是终点——业务组件必须在此基础上封装，保持一致性"

---

#### 李维 · 数据工程负责人（VOC 组 + CLI）（新增）

**背景**：5 年数据工程经验，精通 Python 数据处理生态（pandas、openpyxl）和网络爬虫（Scrapy、Playwright）。对数据质量有执念："脏数据进，垃圾结论出"。

**开发阶段职责**：
- 实现数据导入管线（CSV/Excel 解析、编码检测、数据清洗）
- 开发懂车帝/微博爬虫脚本（Wave 2）
- 实现增量去重引擎（content hash + IngestionBatch）
- 开发 CLI 工具（Typer 命令、爬虫触发、导入触发）
- 与陈思琪协作，确保数据管线到 AI 管线的无缝衔接

**技术风格**：
- 数据质量第一：输入校验、编码处理、异常数据标记
- 偏好管线化设计：每个处理步骤独立可测试
- 重视幂等性：相同输入多次执行结果一致

**开发核心立场**：
- "数据导入是整个系统的入口——编码错误、格式异常、空值处理，每一个都要有明确策略"
- "爬虫不是'写个脚本抓数据'——反爬策略、数据解析、增量采集、异常恢复，每一层都有坑"
- "CLI 是 Agent 的工具接口——输入输出必须标准化，返回码必须有语义"

---

## 3. 子团队划分

### 3.1 子团队定义

| 子团队 | 负责人 | 成员 | 设计文档 | 核心交付 |
|--------|--------|------|---------|---------|
| **平台基础设施** | 赵一凡 | 赵一凡 + 周安 | `docs/designs/platform/design.md` | shared 库、CI/CD、安全组件、基础设施配置 |
| **LLM 服务** | 王磊 | 王磊 + 陈思琪（顾问） | `docs/designs/llm-service/design.md` | 4 槽位模型、LiteLLM 集成、故障转移、SlotRouter |
| **VOC 数据处理** | 陈思琪 | 陈思琪 + 李维 | `docs/designs/voc-service/design.md` | AI 管线三阶段、数据导入、向量化、搜索 |
| **Agent 服务** | 赵一凡 | 赵一凡 + 陈思琪 | `docs/designs/agent-service/design.md` | Principal、SkillRegistry、精简 AgentLoop |
| **前端 & CLI** | 张晨曦 | 张晨曦 + 李维 | `docs/designs/frontend/design.md` | React SPA、5 个核心页面、CLI 命令 |

### 3.2 跨团队协作关系

```
平台基础设施（赵一凡 + 周安）
  │
  ├── 向所有团队提供：shared 库、CI/CD 流水线、代码规范
  │
  ├── LLM 服务（王磊）
  │     ├── 消费 shared 库
  │     └── 向 VOC 组提供 LLM 调用能力（4 槽位）
  │
  ├── VOC 数据处理（陈思琪 + 李维）
  │     ├── 消费 shared 库 + LLM 服务
  │     └── 向前端组提供 VOC API
  │
  ├── Agent 服务（赵一凡 + 陈思琪）
  │     ├── 消费 shared 库 + LLM 服务
  │     └── 向前端组提供 Agent API
  │
  └── 前端 & CLI（张晨曦 + 李维）
        ├── 消费所有后端 API
        └── CLI 向爬虫提供触发接口
```

### 3.3 关键协作接口

| 接口 | 提供方 | 消费方 | 约定方式 |
|------|--------|--------|---------|
| shared 公共 API | 平台组 | 所有后端团队 | Python 接口 + 类型签名 |
| LLM 4 槽位 API | LLM 组 | VOC 组、Agent 组 | OpenAPI Schema |
| VOC 数据 API | VOC 组 | 前端组 | OpenAPI Schema |
| Agent API | Agent 组 | 前端组 | OpenAPI Schema |
| 前后端类型契约 | 后端各组 | 前端组 | OpenAPI → TypeScript 自动生成 |
| CI/CD 流水线 | 平台组 | 所有团队 | GitHub Actions 配置 |

---

## 4. 里程碑与子团队对应

| 里程碑 | 时间 | 主要负责子团队 | 其他参与 |
|--------|------|-------------|---------|
| M1: Phase 2 完成 | W0 | LLM 组（王磊）+ 平台组（赵一凡、周安） | — |
| M2: Phase 2.5 精简完成 | W0+3 | Agent 组（赵一凡、陈思琪）+ 平台组（周安） | — |
| M3: Phase 3 数据底座 | W0+7 | VOC 组（陈思琪、李维）+ LLM 组（王磊） | 平台组（DB 迁移审查） |
| M4: Phase 3 语义搜索 | W0+9 | VOC 组（陈思琪、李维） | LLM 组（向量化 API） |
| M5: Phase 3 前端集成 | W0+12 | 前端组（张晨曦、李维）+ 全员联调 | 所有后端团队 |
| M6: Dogfooding 启动 | W0+12 | 全员 | — |
| M7: 假设验证 | W0+16 | 全员 | — |
| M8: 爬虫 + 增量采集 | W0+20-22 | VOC 组（李维）+ 前端组（张晨曦 CLI） | 陈思琪（数据质量审查） |

---

## 5. 沟通机制

| 频率 | 活动 | 参与者 | 内容 |
|------|------|--------|------|
| 每日 | 站会 | 全员 | 各人昨日完成/今日计划/阻塞项 |
| 每周 | 技术评审 | 全员 | 代码审查、架构决策、技术债务跟踪 |
| 每里程碑 | Go/No-Go 评审 | 全员 | 里程碑交付验收、下阶段计划调整 |
| 按需 | 跨组对齐 | 相关子团队 | API 契约变更、依赖接口调整 |

---

## 6. 从 PRD 专家团队到开发团队的过渡

### 6.1 保留成员的角色转换

| 成员 | PRD 角色 | 开发角色 | 转换要点 |
|------|---------|---------|---------|
| 赵一凡 | 首席架构师（争论架构原则） | 技术负责人（落地架构决策） | 从"要不要做"转向"怎么做对" |
| 陈思琪 | AI/ML 工程师（捍卫涌现标签价值） | AI 工程负责人（实现 AI 管线） | 从"为什么做"转向"怎么做好" |
| 王磊 | 全栈工程师（提供工时估算） | 后端负责人（交付后端服务） | 从"估算可行性"转向"保证可行性" |
| 周安 | 安全合规顾问（提出安全要求） | 安全/DevOps 负责人（实现安全机制） | 从"要求做到"转向"亲手做到" |

### 6.2 PRD 阶段未参与但影响开发的决策

| PRD 决策 | 影响 | 新增团队成员的适配 |
|---------|------|------------------|
| 4 槽位模型替代别名系统（R5-B） | LLM 服务核心架构变更 | 王磊主导实现，张晨曦实现配置 UI |
| LLM Schema 自动映射（R5-A） | 数据导入流程复杂化 | 李维实现解析层，陈思琪设计映射 Prompt，张晨曦实现确认 UI |
| 爬虫进入 Wave 2（R5-A） | 新增数据采集模块 | 李维主导爬虫开发 |
| Neo4j 最小连接层（R5-C） | 基础设施扩展 | 赵一凡设计连接层，周安配置 Docker |

### 6.3 PRD 专家团队中未进入开发团队的成员

| 成员 | PRD 角色 | 未参与开发的原因 | 影响保留方式 |
|------|---------|----------------|-------------|
| 苏明远 | 产品策略师 | 产品方向已定稿，开发阶段需工程执行力 | 产品决策以 PRD v2.0 为准，M7 假设验证时回归 |
| 林晓薇 | 用户研究官 | 开发阶段无用户研究工作，M6 后回归主导 dogfooding | 验收标准以 PRD v2.0 为准，M6-M7 主导用户测试 |
| 方若琳 | 企业创新变革顾问 | 产品采纳机制设计推迟到 Phase 2+ | 最小反馈机制（F14）已纳入开发范围 |

---

*本文档定义了 Prism Phase 1 开发团队的完整结构。团队在 PRD 专家团队基础上，保留了 4 位核心技术成员并新增 2 位专业工程师，形成 5 个子团队覆盖平台、LLM、VOC、Agent 和前端全部工程维度。*
