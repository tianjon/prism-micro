# R5 Delta 评审合并记录

> PRD v1.0 定稿后，用户（系统最终用户代表，行业背景：阿维塔汽车 + Peets Coffee）提出 6 项修正意见。本文档汇总 3 个并行 Agent 的 Delta 评审结果，聚焦最终决策与全局影响。辩论细节请参阅各 Agent 文档。

---

## 1. 评审概述

### 1.1 评审触发原因

PRD v1.0 经 R0-R4 五轮结构化讨论定稿后，来自阿维塔汽车和 Peets Coffee 的系统最终用户代表提出 6 项修正意见：

| # | 修正内容 | 核心诉求 |
|---|---------|---------|
| 1 | 数据输入格式/Schema 总是不固定的 | 系统必须具备动态 Schema 理解能力，不能硬编码字段名 |
| 2 | Voice 存储结构相对固定 | 确认现有 Voice 数据模型设计合理，无需大改 |
| 3 | Phase 1 必须含特定爬虫（懂车帝 + 微博） | 自动化数据采集是核心使用场景，不能只靠 CSV 手动上传 |
| 4 | LLM 自动转化 + 增量模式 | Raw → Voice 转化应由 LLM 自动完成，减少手工确认；必须支持增量去重 |
| 5 | 简化 llm-service，4 槽位替代别名系统 | 别名系统过于复杂，4 个固定功能槽位（fast/reasoning/embedding/rerank）更直观 |
| 6 | 基础设施增加 Neo4j，考虑更多弹性 | Neo4j 已部署但 PRD 未提及角色；架构需要更多容错和降级策略 |

### 1.2 评审方式

采用 **3 个 Agent 并行 Delta 评审**，按修正的影响域分工：

| Agent | 评审范围 | 涉及修正 | 详细记录 |
|-------|---------|---------|---------|
| Agent A | 数据摄入重构 | #1, #2, #3, #4 | [R5-delta-review-a.md](R5-delta-review-a.md) |
| Agent B | LLM 服务简化 | #5 | [R5-delta-review-b.md](R5-delta-review-b.md) |
| Agent C | 基础设施 + 架构弹性 + 整体一致性 | #6 + 全局影响 | [R5-delta-review-c.md](R5-delta-review-c.md) |

### 1.3 参与专家团队

7 位虚拟专家全员参与（角色定义详见 [`00-expert-team.md`](../00-expert-team.md)）：

| # | 姓名 | 角色 | 核心关注点 |
|---|------|------|----------|
| 1 | 苏明远 | 产品策略师 | 用户价值感知速度、产品差异化 |
| 2 | 赵一凡 | 首席架构师 | 架构正确性、依赖方向、Type 1 决策 |
| 3 | 陈思琪 | AI/ML 工程师 | AI 管线完整性、涌现标签质量 |
| 4 | 林晓薇 | 用户研究官 | 用户验证、数据驱动决策 |
| 5 | 周安 | 安全与合规顾问 | 数据质量、审计追踪、合规风险 |
| 6 | 王磊 | 全栈工程师 | 工时诚实、分级交付、实现可行性 |
| 7 | 方若琳 | 企业创新变革顾问 | 组织采纳、价值闭环、治理机制 |

---

## 2. 投票结果总览

| 议题 | Agent | 投票结果 | 核心决议 |
|------|-------|---------|---------|
| A1: LLM 自动映射策略 | A | 7:0（含 2 有条件） | LLM 映射 + 首次确认预览 + 模板缓存 |
| A2: 爬虫进入 Phase 1 | A | 7:0（含 3 有条件） | 独立 Python 脚本 + CLI 触发 |
| A3: 增量模式设计 | A | 7:0（含 2 有条件） | 最小增量（content hash SHA-256）+ 精简 IngestionBatch |
| A4: LLM 自动转化程度 | A | 7:0（含 3 有条件） | 默认自动化 + 低置信度暂停 |
| B1: 4 槽位 vs 别名系统 | B | 7:0（含 2 有条件） | 采用 4 槽位，SlotRouter 独立封装 |
| B2: 故障转移实现 | B | 7:0 | 槽位模式下故障转移更简洁 |
| B3: 文档和代码影响 | B | 7:0 | 端点隐式路由，变更清单明确 |
| B4: ModelSlot 数据模型 | B | 7:0 | 完整 SQL 定义已确认 |
| C1: Neo4j Phase 1 角色 | C | 3:2:1:1 | 折中方案：最小连接层（1 人天） |
| C2: 架构弹性策略 | C | 7:0 | L0-L2 纳入 Phase 1，L3 为 Should Have，L4 推迟 |
| C3: 综合排期影响 | C | 7:0 | 总工期 18-22 周，两波交付 |
| C4: Phase 1/2 功能边界 | C | 7:0 | Wave 1 + Wave 2 + M7 Go/No-Go 判定 |

**整体共识度**：12 项议题中，11 项全票通过（7:0），1 项（C1）为多数通过后采纳折中方案。所有议题均达成共识。

---

## 3. 关键决策合集

### 修正 #1：数据输入 Schema 不固定

**决策**：用户上传 CSV/Excel 采用 LLM 自动字段映射 + 首次确认预览 + 映射模板缓存。

- **投票依据**：LLM 在有限语义空间（列名变体）的映射准确率可达 90%+；映射模板复用使后续导入完全自动化；首次确认兼顾安全和信任建设（议题 A1, 7:0）
- **附加条件**：
  - SchemaMapping 数据模型必须持久化（赵一凡）
  - 低置信度映射（< 0.8）高亮提示用户（周安）
  - 为已知用户（阿维塔、Peets）预置数据格式模板（林晓薇）
- **工时影响**：+5-7 人天（LLM 映射 Prompt + SchemaMapping CRUD + 前端映射预览 + 测试）
- **数据模型新增**：SchemaMapping（id, tenant_id, name, source_format, column_mappings, created_by, confidence, sample_data, usage_count, created_at, updated_at）

### 修正 #2：Voice 存储结构确认

**决策**：现有 Voice 数据模型（id, tenant_id, content, title, source_type, source_metadata 等）设计合理，无需大改。

- **投票依据**：用户验证了"输入端混乱（Schema 不固定），输出端稳定（Voice 结构固定）"的设计假设
- **附加条件**：Voice 表新增 `content_hash`（VARCHAR, NOT NULL）和 `batch_id`（UUID, NULLABLE）字段用于增量去重
- **工时影响**：0 人天（确认现有设计）

### 修正 #3：Phase 1 必须含爬虫

**决策**：Phase 1 实现懂车帝 + 微博两个爬虫，作为独立 Python 脚本，通过 CLI 触发。

- **投票依据**：阿维塔和 Peets 是真实 Design Partner，自动化数据采集是产品核心价值循环的基础；没有爬虫用户只能手工搬运数据，采纳率将大幅下降（议题 A2, 7:0）
- **附加条件**：
  - 爬虫必须作为独立模块，不与 Agent/Skill 引擎深度耦合（赵一凡）
  - 合规约束：合理请求频率（< 1 req/s）、尊重 robots.txt、数据使用范围限定（周安）
  - 合规责任归属在交付文档中明确（方若琳）
- **工时影响**：+14-19 人天（懂车帝 5-6 天 + 微博 5-7 天 + 输出标准化 1-2 天 + CLI 1 天 + 测试 2-3 天）
- **排期安排**：安排在 Wave 2（M8 里程碑），M7 Go/No-Go 后启动

### 修正 #4：LLM 自动转化 + 增量模式

**决策**：Phase 1 数据摄入设计为默认自动化；增量去重采用最小方案（content hash SHA-256 + 唯一索引）+ 精简版 IngestionBatch。

- **投票依据**：
  - 自动化：首次映射确认是 5 秒操作，后续复用模板全自动；爬虫数据完全自动入库；AI 管线本身就是全自动的（议题 A4, 7:0）
  - 增量：content hash 解决 80% 去重问题，精简 IngestionBatch 为 Phase 2 打地基（议题 A3, 7:0）
- **附加条件**：
  - 精简版 IngestionBatch 模型必须 Phase 1 落地（赵一凡）
  - 被跳过的数据可追溯，不静默丢弃（周安）
  - 低置信度映射（< 0.7）必须暂停等待确认（周安）
  - 首次映射确认保留为信任建设环节（林晓薇）
  - 导入完成后展示摘要（新增/跳过/失败数）
- **工时影响**：+1-1.5 人天（content hash + 唯一索引 + 精简 IngestionBatch）；自动化部分已被 A1 方案覆盖，不额外增加工时
- **数据模型新增**：IngestionBatch（id, tenant_id, source, total_count, new_count, duplicate_count, failed_count, status, created_at）

### 修正 #5：4 槽位替代别名系统

**决策**：采用 4 个固定功能槽位（fast / reasoning / embedding / rerank）替代三层别名抽象模型。

- **投票依据**：目标用户是非技术产品经理，4 槽位比 N 别名直观十倍；开发工时节省约 5.5 天；Phase 1-3 功能范围内两者等价；从槽位升级到别名系统的成本约 3 天，属于 Type 2 可逆决策（议题 B1, 7:0 含 2 有条件）
- **附加条件**：
  - SlotRouter 必须独立封装为单独类，保证未来路由策略可替换（赵一凡）
  - Phase 4 启动前必须评估槽位数量是否需要升级为别名系统（陈思琪）
  - 故障转移日志必须结构化存储（周安）
  - 配置变更需产生审计日志（变更前后快照可追溯）（周安）
  - fallback_chain 中的 provider_id 需应用层校验有效性（周安）
  - 文档同步用 checklist 追踪（方若琳）
- **工时影响**：净节省约 5.5 天（别名系统 12 天 vs 槽位系统 6.5 天）
- **数据模型新增**：ModelSlot（完整 SQL 定义见 [R5-delta-review-b.md](R5-delta-review-b.md) 议题 B4）

### 修正 #6：Neo4j 角色定义 + 架构弹性

**决策**：
1. Neo4j 建立最小连接层（1 人天），Phase 1 不做业务依赖
2. 弹性策略分层实施：L0-L2 纳入 Phase 1，L3 为 Should Have，L4 推迟

- **投票依据**：
  - Neo4j：已部署组件必须文档化；最小连接层（`neo4j_session.py`）保持基础设施定义完整性（议题 C1, 折中方案）
  - 弹性：Phase 1 单机部署不需要过度设计，但 L0（连接池）、L1（LLM 故障转移）、L2（爬虫降级）是必须的（议题 C2, 7:0）
- **附加条件**：
  - 明确禁止 Phase 1 业务代码依赖 Neo4j（全员共识）
  - Neo4j label 命名约定文档化，为 Phase 2 预留（赵一凡）
  - L2 爬虫弹性包含：指数退避 + 冷却期 + 部分采集标记（周安）
- **工时影响**：+1.5 人天（Neo4j 连接层 1 天 + L0 连接池配置 0.5 天）

---

## 4. 条件性要求汇总

合并 3 个 Agent 的所有有条件投票中的硬性要求，形成统一的约束清单：

### 数据摄入相关（Agent A）

| # | 约束条件 | 提出者 | 关联议题 | 不可省略 |
|---|---------|--------|---------|---------|
| 1 | SchemaMapping 数据模型必须持久化 | 赵一凡 | A1 | 是 |
| 2 | 低置信度映射（< 0.8）高亮提示用户 | 周安 | A1 | 是 |
| 3 | 映射模板缓存支持复用 | 周安 | A1 | 是 |
| 4 | 为已知用户预置数据格式模板 | 林晓薇 | A1 | 是 |
| 5 | 爬虫作为独立模块，不与 Agent/Skill 深度耦合 | 赵一凡 | A2 | 是 |
| 6 | 爬虫合规约束（请求频率 < 1 req/s、尊重 robots.txt） | 周安 | A2 | 是 |
| 7 | 合规责任归属在交付文档中明确 | 方若琳 | A2 | 是 |
| 8 | 精简版 IngestionBatch 模型必须 Phase 1 落地 | 赵一凡 | A3 | 是 |
| 9 | 被跳过的数据可追溯，不静默丢弃 | 周安 | A3 | 是 |
| 10 | 低置信度映射（< 0.7）必须暂停等待确认 | 周安 | A4 | 是 |
| 11 | 首次映射确认保留为信任建设环节 | 林晓薇 | A4 | 是 |

### LLM 服务相关（Agent B）

| # | 约束条件 | 提出者 | 关联议题 | 不可省略 |
|---|---------|--------|---------|---------|
| 12 | SlotRouter 封装为独立类 | 赵一凡 | B1 | 是 |
| 13 | Phase 4 启动前评估槽位数量是否需升级 | 陈思琪 | B1 | 是 |
| 14 | 故障转移日志结构化存储（含完整链路信息） | 周安 | B2 | 是 |
| 15 | fallback_chain 中 provider_id 应用层校验 | 周安 | B4 | 是 |
| 16 | 配置变更审计日志（变更前后快照） | 周安 | B4 | 是 |
| 17 | 文档同步用 checklist 追踪 | 方若琳 | B3 | 是 |

### 基础设施相关（Agent C）

| # | 约束条件 | 提出者 | 关联议题 | 不可省略 |
|---|---------|--------|---------|---------|
| 18 | Phase 1 业务代码禁止依赖 Neo4j | 全员 | C1 | 是 |
| 19 | Neo4j label 命名约定文档化 | 赵一凡 | C1 | 是 |
| 20 | 爬虫弹性：指数退避 + 冷却期 + 部分采集标记 | 周安 | C2 | 是 |
| 21 | M5 里程碑（前端集成 + 可演示）不后移 | 苏明远 | C3 | 是 |
| 22 | M7 增加 Wave 2 Go/No-Go 判定 | 方若琳 | C4 | 是 |
| 23 | 爬虫 Skill 上线前必须通过安全评审 | 周安 | C4 | 是 |

---

## 5. 排期修订摘要

### 5.1 原排期 vs 修正后排期对比

| 维度 | PRD v1.0 | 修正后 | 变化 |
|------|----------|--------|------|
| 总工期 | 14-18 周 | 18-22 周 | +4 周 |
| Must Have 工时（Wave 1） | 63-65 人天 | 72-80 人天 | +9-15 人天 |
| Must Have 工时（Wave 2） | -- | 13-21 人天 | 新增 |
| Must Have 工时（合计） | 63-65 人天 | 85-101 人天 | +22-36 人天 |
| 可用产能（22 周） | ~90 人天 | ~110 人天 | +20 人天 |
| 缓冲率 | ~30%（25-27 人天） | ~10-23%（9-25 人天） | 缓冲率下降 |

> **关键约束**：缓冲率从 30% 降至 10-23%，意味着风险容忍度下降。两波交付是维持缓冲的核心机制——Wave 2 在 M7 Go/No-Go 后才启动，保留了止损选项。

### 5.2 里程碑序列（Wave 1 + Wave 2）

```
W0          W3          W7          W9          W12         W16         W20-22
|           |           |           |           |           |           |
v           v           v           v           v           v           v
M1          M2          M3          M4          M5/M6       M7          M8
Phase 2     Phase 2.5   数据底座    语义搜索    前端+集成    假设验证     爬虫+增量
完成        精简完成    +LLM映射    完成        Dogfooding   Go/No-Go    采集就位
```

**Wave 1（W0 - W16）**：核心价值闭环

| 里程碑 | 周次 | 交付物 | 修正影响 |
|--------|------|--------|---------|
| M1 | W0 | LLM 网关 + **4 槽位模型** + 弹性 L0 | 新增槽位重构（修正 #5）+ 连接池配置（修正 #6） |
| M2 | W0+3 | Agent 精简版 + **Neo4j 连接层** | 新增 Neo4j 最小连接（修正 #6） |
| M3 | W0+7 | 数据底座 + **LLM Schema 映射** + **增量去重** | 新增 Excel 支持、自动映射、IngestionBatch（修正 #1/#4） |
| M4 | W0+9 | 语义搜索 | 无变更 |
| M5 | W0+12 | 前端集成 + **映射确认 UI** | 新增映射预览面板（修正 #1） |
| M6 | W0+12 | Dogfooding 启动 | 无变更（仅用 CSV 手动上传数据） |
| M7 | W0+16 | 假设验证检查点 + **Wave 2 Go/No-Go** | 新增 Go/No-Go 判定机制 |

**Wave 2（W16 - W22）**：数据采集扩展

| 里程碑 | 周次 | 交付物 | 修正影响 |
|--------|------|--------|---------|
| M8（新增） | W16-22 | 懂车帝爬虫 + 微博爬虫 + 增量去重引擎 | 完全新增（修正 #2/#3/#4） |

### 5.3 M8 里程碑定义

| 维度 | 内容 |
|------|------|
| 交付物 | 懂车帝爬虫 Skill + 微博爬虫 Skill + 增量采集/去重引擎 |
| 前置条件 | M7 Go/No-Go 判定为 Go 或 有条件 Go |
| 工时预算 | 13-21 人天 |
| 验收标准 | 爬虫成功率 > 90%、去重准确率 > 95%、请求频率 < 1 req/s |

### 5.4 M7 Go/No-Go 判定标准

| 涌现标签对比验证胜率 | 判定 | Wave 2 影响 |
|---------------------|------|------------|
| >= 60% | **Go** | 全面启动 Wave 2（懂车帝 + 微博爬虫） |
| 40% - 60% | **有条件 Go** | 只做懂车帝爬虫，微博爬虫暂缓 |
| < 40% | **No-Go** | Wave 2 暂停，团队转向根因分析 |

---

## 6. 新增 User Story 汇总

### US-1（重写）：多格式数据上传与 LLM 自动映射

**来源**：修正 #1 + #4（Agent A 议题 A1/A4）

原 US-1 假设 CSV 必须包含 `text` 列，与"Schema 不固定"直接矛盾。重写后支持：
- 任意格式 CSV/Excel 上传，LLM 自动识别字段含义
- 首次上传新格式展示映射预览，用户一键确认；后续复用模板全自动
- 增量导入（content hash 去重）+ 导入摘要（新增/跳过/失败数）
- 低置信度（< 0.7）暂停等待用户确认

完整 User Story 见 [R5-delta-review-a.md](R5-delta-review-a.md) 第 4 节。

### US-2（新增）：懂车帝/微博爬虫数据自动采集

**来源**：修正 #3（Agent A 议题 A2）

新增的爬虫数据采集场景：
- 通过 CLI 触发（`prism crawl dongchedi`、`prism crawl weibo`）
- 爬虫脚本自动执行，输出标准化 JSON
- 系统自动导入摄入管线，content hash 去重
- CLI 输出采集摘要

完整 User Story 见 [R5-delta-review-a.md](R5-delta-review-a.md) 第 4 节。

### US-7（新增）：LLM 模型槽位配置

**来源**：修正 #5（Agent B 议题 B1-B4）

新增的槽位配置场景：
- 4 个模型槽位卡片（快速/推理/向量化/重排序），各自独立配置
- 选择 Provider + 模型 ID + 可选降级链
- 连通性测试 + 即时生效 + 配置变更审计

完整 User Story 见 [R5-delta-review-b.md](R5-delta-review-b.md) 第 4 节。

### US 编号重排说明

| 原编号 | 新编号 | 变更说明 |
|--------|--------|---------|
| US-1（CSV 导入） | US-1（重写） | 扩展为多格式上传 + LLM 自动映射 |
| -- | US-2（新增） | 爬虫数据自动采集 |
| US-2（语义搜索） | US-3 | 内容不变，编号顺延 |
| US-3 至 US-6 | US-4 至 US-7（原 US 顺延） | 编号顺延 |
| -- | US-7（新增） | LLM 模型槽位配置（如与顺延冲突则取最大编号） |

> 注：具体编号以 PRD v2.0 最终定稿为准。

---

## 7. PRD 修改清单

合并 3 个 Agent 的修改建议，形成 PRD v2.0 统一修改清单。

### 7.1 PRD `02-prd-phase1.md` 修改

| # | 章节 | 修改类型 | 具体修改 | 来源 |
|---|------|---------|---------|------|
| 1 | 1.1 一句话定位 | 扩展 | 增加"支持多源数据自动采集"的表述 | Agent A |
| 2 | 2.1 US-1 | 重写 | "CSV 导入"重写为"多格式数据上传 + LLM 自动映射" | Agent A |
| 3 | 2.1 US-1 前置条件 | 修改 | 删除固定格式假设，改为"CSV 或 Excel 格式的数据文件（字段名不限）" | Agent A |
| 4 | 2.1 US-1 主流程 | 修改 | "用户确认字段映射"改为"LLM 自动映射 + 用户一键确认预览（首次）" | Agent A |
| 5 | 2.1 US-1 异常流程 | 修改 | "缺少 `text` 列"改为"LLM 无法识别内容字段（置信度 < 0.7）" | Agent A |
| 6 | 2.1 US-1 验收标准 | 新增 | AC6：重复数据自动跳过，导入摘要展示新增/跳过/失败数 | Agent A |
| 7 | US-2 | 新增 | 爬虫数据采集 User Story（懂车帝 + 微博） | Agent A |
| 8 | US-7 | 新增 | LLM 模型槽位配置 User Story | Agent B |
| 9 | 1.3 成功标准 | 新增 | Wave 2 验收 KPI：爬虫成功率 > 90%、去重准确率 > 95% | Agent C |
| 10 | 3. 功能清单 Must Have | 新增 | F18-F25 共 8 个新功能条目 | Agent A/B/C |
| 11 | 4. 技术架构约束 | 新增 | 基础设施表新增 Neo4j 条目（Phase 1 就位，Phase 2 启用） | Agent C |
| 12 | 4. 技术架构约束 | 新增 | 弹性策略分层（L0-L4）定义 | Agent C |
| 13 | 4.2 数据模型 | 新增 | SchemaMapping、IngestionBatch 数据模型；Voice 表新增 content_hash、batch_id | Agent A |
| 14 | 4.2 数据模型 | 新增 | ModelSlot SQL 定义（含 slot_type Enum）；删除 aliases 和 models 表 | Agent B |
| 15 | 4.2 数据模型 | 修改 | llm Schema 描述中"别名"措辞更新为"槽位" | Agent B |
| 16 | 6. 排期与里程碑 | 修改 | 总工期 14-18 周 → 18-22 周；新增 M8 里程碑；M7 增加 Go/No-Go | Agent C |
| 17 | 7. 风险与缓解 | 新增 | 爬虫合规风险、LLM 映射错误风险、爬虫反爬策略变更风险 | Agent A/C |

### 7.2 设计文档修改

| # | 文档 | 修改类型 | 具体修改 | 来源 |
|---|------|---------|---------|------|
| 1 | `llm-service-design.md` 核心概念 | 重写 | 三层抽象模型 → 两层（Provider → Slot） | Agent B |
| 2 | `llm-service-design.md` 数据模型 | 重写 | 删除 aliases/models 表，新增 model_slots 表 | Agent B |
| 3 | `llm-service-design.md` API 设计 | 修改 | 调用类 API 端点隐式路由 + 可选 slot 参数 | Agent B |
| 4 | `llm-service-design.md` 管理类 API | 重写 | 别名 CRUD 替换为槽位配置 CRUD | Agent B |
| 5 | `llm-service-design.md` 故障转移 | 修改 | 更新流程图，fallback 从模型 UUID 改为 provider+model 组合 | Agent B |
| 6 | `api-contracts.md` llm-service API | 修改 | 更新请求体示例；新增 Slot 配置 API 契约 | Agent B |
| 7 | `architecture-overview.md` 项目结构 | 小改 | `models/alias.py` → `models/slot.py`；删除 `models/model.py` | Agent B |
| 8 | `02-data-architecture.md` | 新增模型 | SchemaMapping、IngestionBatch 数据模型定义 | Agent A |
| 9 | `02-data-architecture.md` Voice 模型 | 新增字段 | content_hash (VARCHAR, NOT NULL) + batch_id (UUID, NULLABLE) | Agent A |
| 10 | `02-data-architecture.md` Voice 表 | 新增索引 | `UNIQUE INDEX idx_voices_content_hash ON voices(tenant_id, content_hash)` | Agent A |
| 11 | `03-ingestion-pipeline.md` | 新增阶段 | Stage 0：Schema 识别与自动映射 | Agent A |
| 12 | `03-ingestion-pipeline.md` | 新增 | 增量处理逻辑（content hash 查重 → skip/process） | Agent A |
| 13 | 新增文档 `04-crawler-design.md` | 新增 | 爬虫系统设计（懂车帝/微博） | Agent A |
| 14 | `CLAUDE.md` | 修改 | 关键设计/LLM 别名系统 → 槽位系统描述 | Agent B |

### 7.3 新增功能条目汇总（F18-F25）

| # | 功能 | 工时 | 里程碑 | 来源修正 |
|---|------|------|--------|---------|
| F18 | Excel 上传支持 + LLM Schema 映射服务 | 5-8 人天 | M3 | #1 |
| F19 | 前端映射确认 UI | 1-2 人天 | M5 | #1 |
| F20 | llm-service 4 槽位模型重构 | 3-5 人天 | M1（Phase 2 内） | #5 |
| F21 | 懂车帝爬虫 Skill | 5-8 人天 | M8（Wave 2） | #2 |
| F22 | 微博爬虫 Skill | 5-8 人天 | M8（Wave 2） | #3 |
| F23 | 增量采集/去重引擎 | 3-5 人天 | M8（Wave 2） | #4 |
| F24 | Neo4j 最小连接层 | 1 人天 | M2 | #6 |
| F25 | 弹性策略 L0（连接池配置） | 0.5 人天 | M1 | #6 |

---

## 8. 专家签名

| 专家 | 角色 | 最终态度 | 一句话签名 |
|------|------|---------|----------|
| 苏明远 | 产品策略师 | 同意 | M5 不后移是我的底线。用户价值感知节点不能因修正而延迟。 |
| 赵一凡 | 首席架构师 | 同意 | 基础设施文档化、弹性分层、SlotRouter 独立封装——架构卫生是本轮核心产出。 |
| 陈思琪 | AI/ML 工程师 | 同意 | LLM 自动映射和爬虫数据扩充将显著提升涌现标签的多样性和质量。Phase 4 检查点是我的保留条件。 |
| 林晓薇 | 用户研究官 | 同意 | M7 Go/No-Go 判定是数据驱动决策的体现。首次映射确认是信任建设的起点。 |
| 周安 | 安全与合规顾问 | 同意 | 低置信度暂停、爬虫合规约束、审计日志——所有安全底线均已纳入条件性要求。 |
| 王磊 | 全栈工程师 | 同意 | 两波交付是 6 项修正在排期约束下的最优解。槽位简化净省 5.5 天，爬虫后置降低风险。 |
| 方若琳 | 企业创新变革顾问 | 同意 | Go/No-Go 机制确保组织不会在错误方向上过度投入。合规责任归属必须文档化。 |

---

*本文档为 R5 Delta 评审的合并记录，汇总 Agent A（数据摄入重构）、Agent B（LLM 服务简化）、Agent C（基础设施 + 架构弹性）三个并行评审的最终决策。6 项用户修正经 7 位虚拟专家 12 项议题的结构化辩论后全部通过，形成 PRD v2.0 修改清单。后续需按第 7 节修改清单执行 PRD 和设计文档的更新。*
